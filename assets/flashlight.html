<!DOCTYPE html>
<html>
	<head>
		<title>Flashlight App</title>
		<script type="text/javascript" src="raphael-min.js"></script>
		<script type="text/javascript">
			var paper = null;
			var turn_on_icon = null;
			var container = null;
			var icon_with_glow = null;

			function draw_icons()
			{
				paper = Raphael(0, 0, 480, 800);
				paper.rect(40, 50, 400, 700, 0).attr({fill: "#000", stroke: "none"});
				turn_on_icon = paper.path('m 315.2745,452.26237 c -11.01962,-13.23853 -21.7094,-19.61792 -22.67643,-20.20263 -7.15151,-4.23543 -16.34951,-1.80662 -20.53247,5.42735 -4.16797,7.20398 -1.79912,16.44697 5.28492,20.71238 0,0 0.007,0 0.015,0.007 0.008,0 0.015,0.007 0.0225,0.015 0.007,0 0.0225,0.007 0.03,0.007 0.76463,0.46477 8.42589,5.46483 15.59239,14.43045 7.51883,9.45289 14.49043,22.61646 14.52041,40.7651 -0.007,18.88328 -7.53382,35.85499 -19.79034,48.26143 -12.2715,12.38396 -29.0633,20.00024 -47.73669,20.00773 -18.67338,-0.007 -35.46518,-7.62377 -47.74418,-20.00773 -12.25652,-12.39894 -19.78284,-29.37815 -19.79034,-48.26143 0.0375,-18.73335 7.45886,-32.17429 15.25505,-41.66466 3.87561,-4.68521 7.81868,-8.23098 10.68228,-10.50237 1.43181,-1.13944 2.59374,-1.97154 3.33588,-2.4663 0.36732,-0.25487 0.63718,-0.43478 0.77962,-0.51724 0.0375,-0.03 0.0675,-0.045 0.0899,-0.06 0.0225,-0.015 0.03,-0.015 0.03,-0.015 0,0 0,0 0,0 7.09153,-4.25042 9.46038,-13.5084 5.28492,-20.71238 -4.19046,-7.23397 -13.38097,-9.65529 -20.53248,-5.42735 -0.95953,0.59221 -11.65681,6.97159 -22.66893,20.21013 -10.95965,13.12609 -22.29411,33.81599 -22.26413,61.14764 0.007,54.44592 43.67368,98.59186 97.53488,98.61435 53.86869,-0.0225 97.52738,-44.16843 97.54237,-98.61435 0.03,-27.34665 -11.29698,-48.02905 -22.26413,-61.15514 0,0 0,0 0,0 m -75.27824,68.73394 c 8.28345,0 15.00767,-6.79918 15.00767,-15.16509 0,0 -0.007,0 -0.007,0 0,0 0,-91.02806 0,-91.02806 0,-8.3809 -6.71672,-15.17259 -15.00017,-15.17259 -8.28346,0 -15.00767,6.79169 -15.00767,15.17259 0,0 0,91.02806 0,91.02806 0,8.36591 6.72421,15.16509 15.00767,15.16509 0,0 0,0 0,0');

				container = paper.path('M 0 0 L 0 800 L 480 800 L 480 0 L 0 0 z M 239.9375 160.125 C 306.17933 160.125 359.875 213.82068 359.875 280.0625 L 360 280.0625 L 360 519.9375 L 359.875 519.9375 C 359.875 586.17932 306.17933 639.875 239.9375 639.875 C 173.69568 639.875 120 586.17932 120 519.9375 L 120.125 519.9375 L 120.125 280.0625 L 120 280.0625 C 120 213.82068 173.69568 160.125 239.9375 160.125 z');

				turn_on_icon.attr({fill: "#666", stroke: "none"});
				container.attr({fill: "#666", stroke: "none"});
			}

			function turn_on()
			{
				turn_on_icon.animate({
					fill: '#FFF'
				}, 500)
				Android.turnOnNow();
// 				icon_with_glow = turn_on_icon.glow({"color" : "#FFF", "opacity" : 1, "width" : 5});
			}

			function turn_off()
			{
// 				icon_with_glow.remove();

				turn_on_icon.animate({
					fill: '#666'
				}, 500);
				Android.turnOffNow();
// 				icon_with_glow = turn_on_icon.glow({"color" : "#666", "opacity" : 1, "width" : 5});
			}

			var current_state = "off";

			function toggle()
			{
				if(current_state == "on")
				{
					current_state = "off";
					turn_off();
				}
				else
				{
					current_state = "on";
					turn_on();
				}
			}
		</script>
		<meta name="viewport" content="width=480" />
		<style>
			*{
				margin:0;
				padding:0;
			}
			html, body{
				float:left;
				width:480px;
				height:800px;
			}
		</style>
	</head>
	<body onload="draw_icons();" onclick="toggle()">
	</body>
</html>